<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
</head>

<body>
  <div>
       <h1>登录</h1>
      <p>
         账号: <input type="text" id="user"/>
         </p>
       <p>
         密码: <input type="text" id="passwrod"/>
         </p>

      <p>
         <button id="btn">提交</button>
         </p>
      </div>
   <p>
      账号: %s<br>
      密码: %s
      </p>

<script type="text/javascript">
    //提交写入后台
    // console.log(document.getElementById('user'));
    window.onload=function () {

        document.getElementById('btn').onclick = function(){
            // console.log(document.getElementById('user').value.length)
        if(document.getElementById('user').value.length == 0 || document.getElementById('passwrod').value.length == 0)
        {
            alert("请输入用户名和密码！")
            return false
        }
        // console.log(document.getElementById('user').value);
    	$.ajax({
    		url:'http://localhost:8080/44',
    		type:'POST',
            dataType:'json',
            contentType:"application/json",
    		data:JSON.stringify({
                "data":{
                    'user':document.getElementById('user').value,
                    'passwrod':document.getElementById('passwrod').value
    		    }
    		}),

    		success: function(data){
    		    var dataObj=eval("("+data+")")
    		    if (dataObj.code == 200){

    		        // var data = JSON.parse(data)
                    console.log(dataObj)
                }
    		    else {
    		        alert(data.msg)
                }



    		},
    		error: function (XMLHttpRequest, textStatus, errorThrown,data) {
    		    var dataObj=eval("("+data+")")
                var data1=eval("("+dataObj+")")
                console.log(data1)
                console.log(XMLHttpRequest.status)
                console.log(XMLHttpRequest.readyState)
                console.log(textStatus)



            }
    })

}
    }
</script>
</body>
</html>